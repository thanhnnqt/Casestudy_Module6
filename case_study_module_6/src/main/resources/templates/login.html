<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Đăng nhập</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<div th:replace="fragments/header :: header"></div>

<div class="container my-5" style="max-width: 450px;">
    <h3 class="text-center text-danger fw-bold mb-4">Đăng nhập</h3>

    <!-- ========== CÁCH 1: TÀI KHOẢN / EMAIL + MẬT KHẨU ========== -->
    <form th:action="@{/login}" th:object="${loginDTO}" method="post">

        <div class="alert alert-danger" th:if="${error}">
            <span th:text="${error}"></span>
        </div>

        <div class="mb-3">
            <label class="form-label">Tài khoản hoặc Email</label>
            <input type="text" class="form-control"
                   placeholder="Nhập tài khoản hoặc email"
                   th:field="*{usernameOrEmail}">
            <small class="text-danger" th:errors="*{usernameOrEmail}"></small>
        </div>

        <div class="mb-3">
            <label class="form-label">Mật khẩu</label>
            <input type="password" class="form-control"
                   placeholder="Nhập mật khẩu"
                   th:field="*{password}">
            <small class="text-danger" th:errors="*{password}"></small>
        </div>

        <button class="btn btn-danger w-100 mb-3">
            Đăng nhập
        </button>
    </form>

    <!-- ========== HOẶC ========== -->
    <div class="text-center my-3">
        <span class="text-muted">Hoặc</span>
    </div>

    <!-- ========== CÁCH 2: ĐĂNG NHẬP BẰNG LINK EMAIL ========== -->
    <form th:action="@{/login-by-email}" method="post">

        <div class="mb-3">
            <label class="form-label">Email đăng nhập</label>
            <input type="email" name="email" class="form-control"
                   placeholder="Nhập email để nhận link đăng nhập" required>
        </div>

        <button class="btn btn-outline-danger w-100">
            Đăng nhập bằng liên kết Email
        </button>
    </form>

    <div class="text-center mt-4">
        <span>Chưa có tài khoản?</span>
        <a th:href="@{/register}" class="text-decoration-none">
            Đăng ký
        </a>
    </div>
</div>

<div th:replace="fragments/footer :: footer"></div>

</body>
</html>
